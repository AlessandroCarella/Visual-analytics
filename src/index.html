<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>D3.js Visualization</title>
        <script src="https://d3js.org/d3.v7.min.js"></script>
        <link rel="stylesheet" href="styles/layout.css" />
        <link rel="stylesheet" href="styles/buttons.css" />
        <link rel="stylesheet" href="styles/inputs.css" />
        <link rel="stylesheet" href="styles/guide.css" />
        <link rel="stylesheet" href="styles/slider.css" />
        <link rel="stylesheet" href="styles/contextMenu.css" />
        <style>
            /* Additional styles for radio buttons and labels */
            .radio-group {
                margin-bottom: 10px;
            }

            .radio-group label {
                margin-right: 10px;
            }
        </style>
    </head>
    <body>
        <div class="command-column">
            <div class="distance">
                <h3>
                    Investigate number of links distance from nodes to
                    investigate
                </h3>

                <label for="investigate-select"
                    >Select entity to investigate: (defaults to All)</label
                >
                <select id="investigate-select"></select>

                <h3>As source (up to 7 in link distance)</h3>
                <div class="investigate-distance-div">
                    <button id="decrease-source" class="minus-button">-</button>
                    <input
                        type="number"
                        id="sourceNumberInput"
                        min="-1"
                        max="7"
                        value="-1"
                        class="investigate-source-or-target-distance-select"
                    />
                    <button id="increase-source" class="plus-button">+</button>
                </div>

                <h3>As target (up to 6 in link distance)</h3>

                <div class="investigate-distance-div">
                    <button id="decrease-target" class="minus-button">-</button>
                    <input
                        type="number"
                        id="targetNumberInput"
                        min="-1"
                        max="6"
                        value="-1"
                        class="investigate-source-or-target-distance-select"
                    />
                    <button id="increase-target" class="plus-button">+</button>
                </div>

                <h3>As both (up to 7 in link distance)</h3>
                <div class="investigate-distance-div">
                    <button id="decrease-both" class="minus-button">-</button>
                    <input
                        type="number"
                        id="bothNumberInput"
                        min="-1"
                        max="7"
                        value="-1"
                        class="investigate-source-or-target-distance-select"
                    />
                    <button id="increase-both" class="plus-button">+</button>
                </div>
            </div>

            <div>
                <h3>
                    Choose which type of links to display by clicking the
                    buttons
                </h3>

                <button
                    id="ownership"
                    class="button ownershipButton active-button"
                >
                    Ownership
                </button>

                <button
                    id="partnership"
                    class="button partnershipButton active-button"
                >
                    Partnership
                </button>

                <button
                    id="family_relationship"
                    class="button family_relationshipButton active-button"
                >
                    Family relationship
                </button>

                <button
                    id="membership"
                    class="button membershipButton active-button"
                >
                    Membership
                </button>
            </div>

            <div class="slider-container">
                <h3>
                    Choose the opacity at which the irrelevant nodes and links
                    will be displayed
                </h3>
                <input
                    type="range"
                    id="opacity-slider"
                    min="0"
                    max="100"
                    value="10"
                    step="10"
                />
                <span id="opacity-value">10</span>
            </div>

            <div class="source-and-target-select">
                <h3>
                    Select a node to investigate its connections as a source or
                    as a target
                </h3>

                <label for="source-select"
                    >Select Source and see its targets:</label
                >
                <select id="source-select">
                    <option value=""></option>
                </select>

                <label for="target-select"
                    >Select Target and see its sources:</label
                >
                <select id="target-select">
                    <option value=""></option>
                </select>
            </div>
        </div>

        <div class="graph">
            <svg></svg>
            <button class="show-guide-button">Show Map Legend</button>
        </div>

        <div class="guide-column">
            <button class="hide-guide-button">Hide Map Legend</button>
            <h3>Guide</h3>
            <div class="guide-content">
                <div class="links-colors">
                    <h3>Types of nodes:</h3>
                    <div class="color-section" id="links-colors-section"></div>
                </div>
                <br />
                <div class="nodes-colors">
                    <h3>Nodes colors</h3>
                    <div class="color-section" id="nodes-colors-section"></div>
                </div>
                <br />
                <div class="legend-text">
                    <h3>Additional Information</h3>
                    <h4>Black connection between nodes:</h4>
                    <p>
                        There is a thin black line that links the entities under
                        investigation between each other.
                        <br />
                        This connection is not present in the original dataset;
                        it is included to highlight potentially significant
                        relationships between these entities.
                    </p>
                    <h4>Click on nodes</h4>
                    <h5>Left click:</h5>
                    <p>
                        The left click on a node will highlight the nodes and
                        the links that are connected to it. You can adjust the
                        opacity of the irrelevant nodes and links using the tool
                        labeled "Choose the opacity at which the irrelevant
                        nodes and links will be displayed".
                    </p>
                    <h5>Right click:</h5>
                    <p>
                        The right click opens a custom context menu that shows
                        the 3 possible options:
                        <br />
                        - Expand as source <br />
                        - Expand as target <br />
                        - Expand as both
                    </p>
                </div>
            </div>
        </div>

        <div id="context-menu" class="context-menu">
            <div class="context-menu__item" data-option="source">
                Expand as source
            </div>
            <div class="context-menu__item" data-option="target">
                Expand as target
            </div>
            <div class="context-menu__item" data-option="both">
                Expand as both
            </div>
        </div>

        <script src="index.js"></script>
    </body>
</html>
